<apex:page standardStylesheets="false" sidebar="false" applyBodyTag="false" docType="html-5.0" controller="MyController">
    <html xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" lang="en">
    <head>
        <title>SLDS objectList</title>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <apex:slds />
        <apex:stylesheet value="{!URLFOR($Resource.style)}"/>
        <apex:includeScript value="{!URLFOR($Resource.myScript)}"/>
        <apex:includeScript value="{!$Resource.jQuery}"/>
        <style>
            .bPageBlock .detailList .dataCol{
                width: 100% !important;
            }
            .table_caption{
                background: rgb(250, 250, 249);
                height: 20px;
            }
            .select_width{
                width: 100%;
            }
            .inner_block{
                background: #fff;
                margin: 0 10px;
                max-height: 440px;
                overflow-y: scroll;
            }
            .main_block{
                position: relative;
                width: 100%;
                height: 800px;
            }
            .tab_height{
                height: 740px;
            }
            .slds-col>.button_img{
                 width: 50px;
                 height: 50px;
                 float: left;
                 margin: 20px;
             }
            .slds-col>.button_img:first-child{
                margin-top: 130px;
            }

        </style>
    </head>
    <body>
    <apex:pageBlock id="pageBlock" >
        <div class="slds-grid slds-gutters main_block">

            <!--LIST OF OBJECTS-->
             <div class="slds-col slds-size_3-of-12">
                 <apex:pageBlockSection >
                     <apex:form >
                         <apex:actionFunction name="showFields" action="{!showListFields}" rerender="fields, customFields, fieldParam, addField, selectedList">
                             <apex:param name="selectedObject" value="{!selectedObject}" assignTo="{!selectedObject}"/>
                         </apex:actionFunction>
                         <table class="slds-table slds-table_bordered slds-table_cell-buffer">
                             <thead>
                             <tr class="slds-text-title_caps">
                                 <th><div class="slds-truncate" title="Opportunity Name">Object</div></th>
                             </tr>
                             </thead>
                             <tr>
                                 <th>
                                     <div class="slds-truncate">
                                         <apex:pageBlockSectionItem >
                                             <apex:selectList size="36"
                                                              value="{!selectedObject}"
                                                              onclick="showFieldList(this.value);"
                                                              styleClass="select_width">
                                                 <apex:selectOptions value="{!objects}" />
                                             </apex:selectList>
                                         </apex:pageBlockSectionItem>
                                     </div>
                                 </th>
                             </tr>
                         </table>
                     </apex:form>
                 </apex:pageBlockSection>
            </div>
            <div class="slds-col slds-size_9-of-12">
                <div class="slds-tabs_default tabs">
                    <ul class="slds-tabs_default__nav tabs_menu" role="tablist">
                        <li class="slds-tabs_default__item slds-is-active"  title="Item One" role="presentation">
                            <a class="slds-tabs_default__link" href=""  role="tab" tabindex="0" aria-selected="true" aria-controls="tab-default-1" id="tab-default-1__item">Item One</a>
                        </li>
                        <li class="slds-tabs_default__item" title="Item Two" role="presentation">
                            <a class="slds-tabs_default__link " href=""  role="tab" tabindex="-1" aria-selected="false" aria-controls="tab-default-2" id="tab-default-2__item">Item Two</a>
                        </li>
                    </ul>
                    <!--============================BEGIN FIRST TAB=================================-->
                    <div id="tab-default-1" class="slds-tabs_default__content tab_height slds-show" role="tabpanel" aria-labelledby="tab-default-1__item">
                        <div class="slds-grid slds-gutters">

                            <!-- LIST OF FIELDS -->
                            <div class="slds-col slds-size_1-of-5 inner_block">
                                <apex:pageBlockSection id="fields">
                                    <apex:form  rendered="{!IF(ISNULL(selectedObject),false, true)}">
                                        <apex:dataTable value="{!fieldsNameList}" var="item" id="theTable"
                                                        rowClasses="slds-truncate"
                                                        styleClass="slds-table slds-scope slds-table_bordered slds-table_cell-buffer"
                                                        captionClass="slds-text-title_caps slds-align_absolute-center table_caption">
                                            <apex:facet name="caption">Fields</apex:facet>

                                            <apex:column colSpan="1">
                                                <apex:outputText value="{!item}"/>
                                                <apex:actionSupport event="onclick" action="{!showFieldParam}" rerender="fieldParam">
                                                    <apex:param name="clickedFieldName" value="{!item}"/>
                                                </apex:actionSupport>
                                            </apex:column>
                                        </apex:dataTable>
                                    </apex:form>
                                </apex:pageBlockSection>
                            </div>

                            <!-- LIST OF CUSTOM FIELDS -->
                            <div class="slds-col slds-size_1-of-5 slds-m-left_small slds-m-right_small">
                                <apex:pageBlockSection id="customFields">
                                    <apex:form rendered="{!customFieldsNameList != null}">
                                        <apex:dataTable value="{!customFieldsNameList}" var="item" id="theTable"
                                                        rowClasses="slds-truncate"
                                                        styleClass="slds-table slds-scope slds-table_bordered slds-table_cell-buffer"
                                                        captionClass="slds-text-title_caps slds-align_absolute-center table_caption">
                                            <apex:facet name="caption">Custom Fields</apex:facet>
                                            <!--<apex:facet name="caption">Action</apex:facet>-->

                                            <apex:column colSpan="1">

                                                <apex:outputText value="{!item}"/>
                                                <apex:actionSupport event="onclick" action="{!showFieldParam}" rerender="fieldParam ">
                                                    <apex:param name="clickedFieldName" value="{!item}"/>
                                                </apex:actionSupport>
                                            </apex:column>
                                            <apex:column colSpan="1">
                                                <apex:commandLink value="Del"
                                                                  onClick="return confirm('Well thought of?');"
                                                                  style="color:#015ba7;"
                                                                  action="{!deleteField}"
                                                                  target="_parent"
                                                                  >
                                                    <apex:param value="{!item}" name="selectedDeleteField" assignTo="{!selectedDeleteField}"/>
                                                </apex:commandLink>
                                            </apex:column>
                                        </apex:dataTable>
                                    </apex:form>
                                </apex:pageBlockSection>
                            </div>

                            <!--SHOW FIELD PARAMS-->
                            <div class="slds-col slds-size_2-of-5 slds-m-left_small slds-m-right_small">
                                <apex:pageBlockSection id="fieldParam" >
                                    <apex:form rendered="{!fieldParamListNotEmpty}">
                                        <table class="slds-table slds-table_bordered slds-table_cell-buffer">
                                            <thead>
                                            <tr class="slds-text-title_caps">
                                                <th><div class="slds-truncate" title="Opportunity Name">FieldName</div></th>
                                                <th><div class="slds-truncate" title="Opportunity Name">FieldLabel</div></th>
                                                <th><div class="slds-truncate" title="Opportunity Name">FieldType</div></th>
                                            </tr>
                                            </thead>

                                            <apex:repeat value="{!FieldsParamList}" var="fieldParam">
                                                <tr>
                                                    <th>
                                                        <apex:outputText value="{!fieldParam.clickedFieldName}"/>
                                                    </th>
                                                    <th>
                                                        <apex:outputText value="{!fieldParam.fieldLabel}"/>
                                                    </th>
                                                    <th>
                                                        <apex:outputText value="{!fieldParam.fieldType}"/>
                                                    </th>
                                                </tr>
                                            </apex:repeat>
                                        </table>

                                        <apex:commandButton value="click to add new field"
                                                            action="{!showCreateBlock}"
                                                            styleClass="slds-button slds-button_neutral slds-m-top_x-small"
                                                            rerender="pageBlock"/>
                                    </apex:form>
                                </apex:pageBlockSection>
                            </div>

                            <!--CREATE NEW FIELD-->
                            <div class="slds-col slds-size_1-of-5 slds-m-left_small slds-m-right_small">
                                <apex:pageBlockSection id="addField" rendered="{!showBlockAddField = true}">
                                    <apex:form >
                                        <div class="slds-form-element">
                                            <label class="slds-form-element__label" for="input-id-01">Selected object</label>
                                            <div class="slds-form-element__control">
                                                <apex:pageBlockSectionItem >
                                                    <apex:outputLabel value="{!selectedObject}"/>
                                                </apex:pageBlockSectionItem>
                                            </div>
                                        </div>
                                        <div class="slds-form-element">
                                            <label class="slds-form-element__label" for="input-id-01">Field name</label>
                                            <div class="slds-form-element__control">
                                                <apex:pageBlockSectionItem >
                                                    <apex:inputText value="{!fieldName}"/>
                                                </apex:pageBlockSectionItem>
                                            </div>
                                        </div>
                                        <div class="slds-form-element">
                                            <label class="slds-form-element__label" for="input-id-01">Field label</label>
                                            <div class="slds-form-element__control">
                                                <apex:pageBlockSectionItem >
                                                    <apex:inputText value="{!fieldName}"/>
                                                </apex:pageBlockSectionItem>
                                            </div>
                                        </div>
                                        <apex:commandButton value="AddField" action="{!createField}"
                                                            rerender="pageBlock, addField, fields, customField"
                                                            styleClass="slds-button slds-button_neutral slds-m-top_x-small"/>
                                    </apex:form>
                                </apex:pageBlockSection>
                            </div>
                        </div>
                    </div>
                     <!--============================BEGIN SECOND TAB=================================-->
                    <div id="tab-default-2" class="slds-tabs_default__content slds-hide tab_height" role="tabpanel" aria-labelledby="tab-default-2__item">
                        <apex:form id="selectedList">
                            <div class="slds-grid slds-gutters">
                                <div class="slds-col slds-size_1-of-12"></div>

                                    <div class="slds-col slds-size_4-of-12">
                                        <table class="slds-table slds-table_bordered slds-table_cell-buffer">
                                            <thead>
                                                <tr class="slds-text-title_caps">
                                                    <th>
                                                        <div class="slds-truncate" title="Opportunity Name">
                                                            select field
                                                        </div>
                                                    </th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <th>
                                                        <div class="slds-truncate">
                                                            <apex:selectList size="36"
                                                                             value="{!leftFieldSelected}"
                                                                             multiselect="true"
                                                                             styleClass="select_width">
                                                                <apex:selectOptions value="{!leftBlockFields}" />
                                                            </apex:selectList>
                                                        </div>
                                                    </th>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    <div class="slds-col slds-size_1-of-12">
                                        <apex:image value="{!URLFOR($Resource.rightAll)}" styleClass="button_img">
                                            <apex:actionSupport event="onclick" action="{!selectAllClick}" reRender="selectedList"/>
                                        </apex:image>
                                        <apex:image value="{!URLFOR($Resource.right)}" styleClass="button_img">
                                            <apex:actionSupport event="onclick" action="{!selectClick}" reRender="selectedList"/>
                                        </apex:image>
                                        <apex:image value="{!URLFOR($Resource.left)}" styleClass="button_img">
                                            <apex:actionSupport event="onclick" action="{!unselectClick}" reRender="selectedList"/>
                                        </apex:image>
                                        <apex:image value="{!URLFOR($Resource.leftAll)}" styleClass="button_img">
                                            <apex:actionSupport event="onclick" action="{!unselectAllClick}" reRender="selectedList"/>
                                        </apex:image>
                                    </div>
                                    <div class="slds-col slds-size_4-of-12">
                                        <table class="slds-table slds-table_bordered slds-table_cell-buffer">
                                            <thead>
                                            <tr class="slds-text-title_caps">
                                                <th>
                                                    <div class="slds-truncate" title="Opportunity Name">
                                                        selected field
                                                    </div>
                                                </th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr>
                                                <th>
                                                    <div class="slds-truncate">
                                                        <apex:selectList size="36"
                                                                         value="{!rightFieldSelected}"
                                                                         multiselect="true"
                                                                         styleClass="select_width">
                                                            <apex:selectOptions value="{!rightBlockFields}" />
                                                        </apex:selectList>
                                                    </div>
                                                </th>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>

                                <div class="slds-col slds-size_1-of-12"></div>
                            </div>
                        </apex:form>
                    </div>
                </div>
            </div>
        </div>
        <script>
            $ = jQuery.noConflict();

            $(document).ready(function(){
                $('.tabs_menu li').click(function(){
                    if($('.tabs_menu li').hasClass('slds-is-active')){
                        $('.tabs_menu li').removeClass('slds-is-active');
                        $(this).addClass('slds-is-active');
                    }
                    var i = $(this).index(); // get number selected tab

                    var tab = $(".tabs").children(".slds-tabs_default__content")[i];//select div for clicked tab
                    if($(tab).hasClass('slds-hide')){
                        $($(".tabs").children(".slds-tabs_default__content")).removeClass('slds-show').addClass('slds-hide');
                        $(tab).addClass('slds-show').removeClass('slds-hide');
                    }
                });
            });
        </script>
    </apex:pageBlock>
    </body>
    </html>
</apex:page>